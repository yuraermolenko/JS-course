<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" ng-app="myApp">
<head>
    <meta charset="utf-8" />
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />
    <title>
    </title>
    <style>
        form .ng-valid.ng-dirty {
            background-color: lightgreen;
        }

        form .ng-invalid.ng-dirty {
            background-color: lightcoral;
        }
    </style>
    <script>
        var app = angular.module('myApp', [])
             .controller('mainCtrl', function ($scope) {
                 $scope.nameRegex = /^.{3,20}$/; 
                 $scope.mailRegex = /^\w+@[a-zA-Z_]+?\.[a-zA-Z]+$/; 
                 $scope.loginRegex = /^[a-zA-Z_]*$/; 			                 
                 $scope.submitHandler = function(isvalid) {
                     if (isvalid) {
                         alert('Form is Valid!)')
                     }
                     else {
                         alert('Form is invalid!'); 
                     }
                 } 
             })
        .directive('createForm', function () {
            return {
                template:'<form name="myForm" ng-submit="submitHandler(myForm.$valid)">	<input placeholder="UserName" type="text" ng-model="myForm.name" class="input-lg form-control" ng-pattern="nameRegex" /><input placeholder="Email" type="text" ng-model="myForm.email" class="input-lg form-control" ng-pattern="mailRegex" /><input placeholder="Login" type="text" ng-model="myForm.login" class="input-lg form-control" ng-pattern="loginRegex" /><input type="password"ng-model="myForm.pass" class="input-lg form-control" placeholder="Password"/><input type="submit" class="btn-info btn-lg btn" /></form>',
               restrict: 'EACM',
                scope:false
            }
        })
       
    </script>
</head>
<body>
    <div class="panel well" ng-controller="mainCtrl">
        <div create-form class="well"></div>
    </div>
</body>
</html>